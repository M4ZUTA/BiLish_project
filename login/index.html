<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiLish Login & Signup</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="/Bimbel_project/BiLish/assets/images/favicon-nobg.png">
</head>

<body>

    <div class="container">
        <div class="curved-shape"></div>
        <div class="curved-shape2"></div>

<!-- LOGIN FORM -->
        <div class="form-box Login">
            <h2 class="animation" style="--D:0; --S:21">Login</h2>
            <form id="login-form">
                <div class="input-box animation" style="--D:1; --S:22">
                    <input id="login-email" type="email" required>
                    <label>Email</label>
                </div>

                <div class="input-box animation" style="--D:2; --S:23">
                    <input id="login-pass" type="password" required>
                    <label>Password</label>
                </div>

                <div class="input-box animation" style="--D:3; --S:24">
                    <button class="btn" type="submit">Login</button>
                </div>

                <div class="regi-link animation" style="--D:4; --S:25">
                    <p>Don't have an account?<br>
                        <a href="#" class="SignUpLink">Sign Up</a>
                    </p>
                </div>
            </form>
        </div>

        <div class="info-content Login">
            <h2 class="animation" style="--D:0; --S:20">Glad To See You Again!</h2>
        </div>

<!-- REGISTER FORM -->
        <div class="form-box Register">
            <h2 class="animation" style="--li:17; --S:0">Register</h2>
            <form id="reg-form">
                <div class="input-box animation" style="--li:18; --S:1">
                    <input id="reg-username" type="text" required>
                    <label>Username</label>
                </div>

                <div class="input-box animation" style="--li:19; --S:2">
                    <input id="reg-email" type="email" required>
                    <label>Email</label>
                </div>

                <div class="input-box animation" style="--li:19; --S:3">
                    <input id="reg-pass" type="password" required>
                    <label>Password</label>
                </div>

                <div class="input-box animation" style="--li:20; --S:4">
                    <button class="btn" type="submit">Register</button>
                </div>

                <div class="regi-link animation" style="--li:21; --S:5">
                    <p>Already have an account?<br>
                        <a href="#" class="SignInLink">Sign In</a>
                    </p>
                </div>
            </form>
        </div>

        <div class="info-content Register">
            <h2 class="animation">Hello There!</h2>
        </div>
    </div>

    <script src="script.js"></script>

<!-- FIREBASE -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyDYMi9Tb6e7l4vnj1_Sw1_KPKwWvZ035wU",
        authDomain: "bilish-project.firebaseapp.com",
        projectId: "bilish-project",
        storageBucket: "bilish-project.firebasestorage.app",
        messagingSenderId: "16431267324",
        appId: "1:16431267324:web:b520510474cfb91be44679",
        measurementId: "G-M0VCMJ6PXK"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

// REGISTER
    document.getElementById("reg-form").addEventListener("submit", async (e) => {
        e.preventDefault();

        const email = document.getElementById("reg-email").value;
        const pass = document.getElementById("reg-pass").value;

        try {
            await createUserWithEmailAndPassword(auth, email, pass);
            alert("Register successful!");
        } catch (err) {
            alert(err.message);
        }
    });

// LOGIN
    document.getElementById("login-form").addEventListener("submit", async (e) => {
        e.preventDefault();

        const email = document.getElementById("login-email").value;
        const pass = document.getElementById("login-pass").value;

        try {
            await signInWithEmailAndPassword(auth, email, pass);
            alert("Login successful!");
            window.location.href = "../index.html"; 
        } catch (err) {
            alert(err.message);
        }
    });
</script>


</body>
</html>
